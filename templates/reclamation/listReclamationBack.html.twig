{% extends 'baseBack.html.twig' %}

{% block AabiElWest %}
	<div
		class="container-fluid">
		<!-- Afficher le message flash -->
		{% for message in app.flashes('success') %}
			<div class="alert alert-success" role="alert">
				{{ message }}
			</div>
		{% endfor %}
		<div class="card shadow mb-4">
			<div class="card-header py-3">
				<h6 class="m-0 font-weight-bold text-primary">Liste des Reclamation</h6>
			</div>
			<div class="card-body">
				<div class="table-responsive">
					<table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
						<thead>
							<tr>

								<th>Client</th>
								<th>Description</th>
								<th>Date</th>
								<th>Statu</th>
								<th>Type</th>
								<th>Option</th>

							</tr>
						</thead>
						<tbody>
							{% for R in reclamation %}
								<tr>
									<td>{{ R.idClient.nomuser }}</td>
									<td>{{ R.description }}</td>
									<td>{{ R.dateReclamation|date('Y-m-d') }}</td>
									<td>{{ R.statuReclamation }}</td>
									<td>{{ R.typeReclamation}}</td>


									<td>
										<a class="btn btn-danger" href="{{ path('app_deleteReclamationBack', {'id_r': R.idReclamation}) }}">supprimer</a>
										{% if R.statuReclamation == 'en attente' %}
											<a class="btn btn-success" href="{{ path('app_addReponse', {'id_r': R.idReclamation}) }}">Repondre</a>
										{% endif %}
									</td>
								</tr>
							{% else %}
								<tr>
									<td colspan="9">No Record Found</td>
								</tr>
							{% endfor %}
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
{% endblock %}
