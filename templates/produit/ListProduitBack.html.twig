{% extends 'baseBack.html.twig' %}

{% block AabiElWest %}
	<div
		class="container-fluid">
		<!-- Afficher le message flash -->
		{% for message in app.flashes('success') %}
			<div class="alert alert-success" role="alert">
				{{ message }}
			</div>
		{% endfor %}
		<div class="card shadow mb-4">
			<div class="card-header py-3">
				<h6 class="m-0 font-weight-bold text-primary">Liste des Produits en Stock</h6>
			</div>
			<div class="card-body">
				<div class="table-responsive">
					<table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
						<thead>
							<tr>
								<th>Référence Produit</th>
								<th>Nom Catégorie</th>
								<th>Nom Produit</th>
								<th>Prix Produit</th>
								<th>Quantité en Stock</th>
								<th>Quantité Seuil</th>
								<th>Image du Produit</th>
								<th>EDIT</th>
								<th>DELETE</th>
							</tr>
						</thead>
						<tbody>
							{% for product in prod %}
								<tr>
									<td>{{ product.Id_Produit }}</td>
									<td>{{ product.Id_Catégorie.NomCatégorie }}</td>
									<td>{{ product.NomP }}</td>
									<td>{{ product.PrixP }}</td>
									<td>{{ product.QteP }}</td>
									<td>{{ product.QteSeuilP }}</td>
									<td>{{ product.ImageP }}</td>
									<td>

										<button type="submit" class="btn btn-success">EDIT</button>

									</td>
									<td>
										<form action="{{ path('product_delete', {'id': product.idReclamation}) }}" method="post">
											<button type="submit" class="btn btn-danger">DELETE</button>
										</form>
									</td>
								</tr>
							{% else %}
								<tr>
									<td colspan="9">No Record Found</td>
								</tr>
							{% endfor %}
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
{% endblock %}
